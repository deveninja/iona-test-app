(this.webpackJsonppetlover=this.webpackJsonppetlover||[]).push([[4],{103:function(e,t,a){e.exports={dropDown:"dropdown_dropDown__QaYkS"}},104:function(e,t,a){e.exports={spinnerComponentWrapper:"spinner_spinnerComponentWrapper__1Nc_8",spinnerWrapper:"spinner_spinnerWrapper__39s_q"}},112:function(e,t,a){"use strict";a.r(t);var n,c=a(17),i=a(66),r=a.n(i),s=a(1),o=a(67),l=a(82),d=a.n(l),u={catApiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"8fc894be-1ff1-46c4-b9c3-2334d7b6c3b5"}).API_KEY},p=d.a.create({baseURL:"https://api.thecatapi.com/".concat("v1"),headers:{"x-api-key":u.catApiKey}}),j=a(4);!function(e){e[e.DEFAULT_LIMIT=10]="DEFAULT_LIMIT",e[e.DEFAULT_PAGE_NO=1]="DEFAULT_PAGE_NO"}(n||(n={}));var b=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,c,i,o,l,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:j.d.LOADING_START,payload:!1}),n=e.id,c=e.page,i=e.limit,o={params:{breed_id:n,page:null!==c&&void 0!==c?c:1,limit:null!==i&&void 0!==i?i:10,order:"ASC"}},t.prev=3,t.next=6,p.get("/images/search",o);case 6:return l=t.sent,(d=l.data).length<o.params.limit&&a({type:j.a.BREED_LIST_FINAL,payload:Object(s.a)(Object(s.a)({},o.params),{},{final:!0,count:d.length})}),t.abrupt("return",(a({type:j.b.GET_CAT_BREED,payload:{breed:n,data:d}}),a({type:j.d.LOADING_STOP,payload:!1}),a({type:j.a.BREED_LIST_INCREMENT,payload:Object(s.a)(Object(s.a)({},o.params),{},{count:d.length})})));case 12:t.prev=12,t.t0=t.catch(3),a({type:j.d.LOADING_STOP,payload:!1}),a({type:j.d.ERROR,payload:{show:!0,message:"Apologies but we could not load new cats for you at this time! Miau!"}});case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()},v=a(0),O=a(102),h=a(77),m=a(59),x=a(19),_=a(76),f=a.n(_),g=a(2),y=function(e){var t,a,n,i,s,l,d,u,b,_,y,T,A=Object(v.useMemo)((function(){return{id:"",url:""}}),[]),N=Object(v.useState)(A),E=Object(c.a)(N,2),S=E[0],L=E[1],w=Object(x.c)((function(e){return e.catsReducer})),C=Object(x.b)(),D=e.history,R=e.match.params,I=R.id,P=R.breed,k=e.location.state.prevPath;return Object(v.useEffect)((function(){var e,t;(null===(e=w[P])||void 0===e?void 0:e[I])&&L(w[P][I]),(null===(t=w[P])||void 0===t?void 0:t[I])||C(function(e,t){return function(){var a=Object(o.a)(r.a.mark((function a(n){var c,i;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:j.d.LOADING_START,payload:!1}),a.prev=1,a.next=4,p.get("/images/".concat(e));case 4:return c=a.sent,i=c.data,a.abrupt("return",(n({type:j.b.GET_CAT,payload:{breed:t,data:i}}),n({type:j.d.LOADING_STOP,payload:!1})));case 9:a.prev=9,a.t0=a.catch(1),n({type:j.d.LOADING_STOP,payload:!1}),n({type:j.d.ERROR,payload:{show:!0,message:"Apologies, the cat is not home! Miau!"}});case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}(I,P))}),[C,P,w,I,k]),Object(g.jsxs)("div",{className:f.a.catList,children:[Object(g.jsx)(O.a,{children:Object(g.jsx)("span",{"data-testid":"pageHeading",className:f.a.title,children:null!==(t=null===S||void 0===S||null===(a=S.breeds)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.name)&&void 0!==t?t:"The Cat"})}),Object(g.jsx)("div",{className:f.a.wrapper,children:Object(g.jsxs)(O.a,{children:[Object(g.jsx)(h.a,{lg:3,children:Object(g.jsxs)("div",{className:"".concat(f.a.paddedFlex," ").concat(f.a.selectArea),children:[Object(g.jsxs)("div",{className:f.a.detailSection,children:[Object(g.jsx)(O.a,{children:Object(g.jsxs)(h.a,{children:[Object(g.jsx)("span",{className:f.a.subTitle,children:"Origin: "}),Object(g.jsx)("p",{children:null===S||void 0===S||null===(i=S.breeds)||void 0===i||null===(s=i[0])||void 0===s?void 0:s.origin})]})}),Object(g.jsx)(O.a,{children:Object(g.jsxs)(h.a,{children:[Object(g.jsx)("span",{className:f.a.subTitle,children:"Temparament: "}),Object(g.jsx)("p",{children:null===S||void 0===S||null===(l=S.breeds)||void 0===l||null===(d=l[0])||void 0===d?void 0:d.temperament})]})}),Object(g.jsx)(O.a,{children:Object(g.jsxs)(h.a,{children:[Object(g.jsx)("span",{className:f.a.subTitle,children:"Description:"}),Object(g.jsx)("p",{children:null===S||void 0===S||null===(u=S.breeds)||void 0===u||null===(b=u[0])||void 0===b?void 0:b.description})]})})]}),Object(g.jsx)(m.a,{"data-testid":"returnHomeBtn",variant:"secondary",onClick:function(){return D.push("".concat(k))},children:"Back to list"})]})}),Object(g.jsx)(h.a,{lg:9,children:Object(g.jsx)("div",{"data-testid":"listSection",className:"".concat(f.a.paddedFlex," \n                            ").concat(f.a.contentArea),children:Object(g.jsx)("img",{className:f.a.singeCat,src:null!==(_=null===S||void 0===S?void 0:S.url)&&void 0!==_?_:"",alt:"".concat(null===S||void 0===S||null===(y=S.breeds)||void 0===y||null===(T=y[0])||void 0===T?void 0:T.name," cat")})})})]})})]})},T=a(64),A=a(111),N=a(103),E=a.n(N),S=function(e){var t=e.options,a=e.onChange,n=e.selected,c=Object(v.useCallback)((function(e){return e.map((function(e,t){return Object(g.jsx)("option",{value:e.id,children:e.name},e.id+t)}))}),[]);return Object(g.jsxs)(A.a.Select,{"aria-label":"Default select example",className:E.a.dropDown,value:n,onChange:a,children:[Object(g.jsx)("option",{value:"",disabled:!0,children:"Select Breed"}),c(t)]})},L=a(108),w=a(104),C=a.n(w),D=function(e){e.message;return Object(g.jsx)("div",{className:C.a.spinnerComponentWrapper,children:Object(g.jsxs)("div",{className:C.a.spinnerWrapper,children:[Object(g.jsx)(L.a,{animation:"grow",variant:"secondary"}),Object(g.jsx)(L.a,{animation:"grow",variant:"secondary"}),Object(g.jsx)(L.a,{animation:"grow",variant:"secondary"}),Object(g.jsx)(L.a,{animation:"grow",variant:"secondary"}),Object(g.jsx)(L.a,{animation:"grow",variant:"secondary"}),Object(g.jsx)(L.a,{animation:"grow",role:"status",children:Object(g.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})})},R=a(13),I=a(22),P=a(110),k=function(e){var t,a,i,s=Object(v.useState)(""),l=Object(c.a)(s,2),d=l[0],u=l[1],_=Object(v.useState)(10),y=Object(c.a)(_,1)[0],A=Object(x.c)((function(e){return e.breedsReducer[R.a.CATS]})),N=Object(x.c)((function(e){return e.catsReducer})),E=Object(x.c)((function(e){return e.globalReducer.loadingState})),L=Object(x.b)(),w=e.history,C=e.match.params.breed,k=Object(v.useMemo)((function(){var e,t,a=N[d]?Object.values(N[d]).length:0;return(null===A||void 0===A||null===(e=A[C])||void 0===e?void 0:e.page)>3||a>=15||(null===A||void 0===A||null===(t=A[C])||void 0===t?void 0:t.final)}),[A,C,N,d]),B=Object(v.useMemo)((function(){var e,t;return null!==(e=null===A||void 0===A||null===(t=A[C])||void 0===t?void 0:t.page)&&void 0!==e?e:1}),[A,C]),G=Object(v.useMemo)((function(){return null!==A&&void 0!==A?A:[]}),[A]),F=Object(v.useCallback)((function(e){return Object.values(e).map((function(e){return Object(g.jsx)(T.a,{imgSrc:null===e||void 0===e?void 0:e.url,size:"23%",btnLabel:"Have a closer look",link:{to:"".concat(I.a.Cats,"/").concat(d,"/").concat(null===e||void 0===e?void 0:e.id),prevPath:"".concat(I.a.Cats,"/").concat(d)}},null===e||void 0===e?void 0:e.id)}))}),[d]);return Object(v.useEffect)((function(){Object.values(A).length||L(function(){var e=Object(o.a)(r.a.mark((function e(t){var a,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:j.d.LOADING_START,payload:!1}),e.prev=1,e.next=4,p.get("/breeds");case 4:return a=e.sent,c=a.data,i=c.map((function(e){return{id:e.id,name:e.name,page:n.DEFAULT_PAGE_NO,limit:n.DEFAULT_LIMIT,final:!1,count:0}})),e.abrupt("return",(t({type:j.b.GET_CAT_BREED_LIST,payload:i}),t({type:j.d.LOADING_STOP,payload:!1})));case 10:e.prev=10,e.t0=e.catch(1),t({type:j.d.LOADING_STOP,payload:!1}),t({type:j.d.ERROR,payload:{show:!0,message:"Apologies, the cats are busy at the moment! Miau!"}});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}),[L,A]),Object(v.useEffect)((function(){d&&((null===N||void 0===N?void 0:N[d])||L(b({id:d,limit:y,page:B})))}),[L,d,N,y,B]),Object(v.useEffect)((function(){u(C)}),[C]),Object(g.jsxs)("div",{className:f.a.catList,children:[Object(g.jsx)(O.a,{children:Object(g.jsx)("span",{"data-testid":"pageHeading",className:f.a.title,children:"Cat Browser"})}),Object(g.jsx)("div",{className:f.a.wrapper,children:Object(g.jsxs)(O.a,{children:[Object(g.jsx)(h.a,{lg:3,children:Object(g.jsxs)("div",{className:"".concat(f.a.paddedFlex," ").concat(f.a.selectArea),children:[Object(g.jsxs)("div",{children:[Object(g.jsx)(S,{"data-testid":"breedDropdown",options:Object.values(G),onChange:function(e){var t=e.target.value;u(t),w.push("".concat(I.a.Cats,"/").concat(t))},selected:d}),!k&&C&&Object(g.jsxs)(m.a,{"data-testid":"breedMoreBtn",variant:"secondary",onClick:function(){return L(b({id:d,page:B}))},children:["Load more ",null!==(t="".concat(null===(a=A[C])||void 0===a?void 0:a.name," breed"))&&void 0!==t?t:"cats"]})]}),Object(g.jsx)(m.a,{"data-testid":"returnHomeBtn",variant:"secondary",onClick:function(){return w.push("".concat(I.a.Home))},children:"Back to Home"})]})}),Object(g.jsx)(h.a,{lg:9,children:Object(g.jsxs)("div",{"data-testid":"listSection",className:"".concat(f.a.paddedFlex," \n                            ").concat(f.a.contentArea),children:[(null===N||void 0===N?void 0:N[d])&&Object.values(null===N||void 0===N?void 0:N[d]).length>0&&F(N[d]),(null===N||void 0===N?void 0:N[d])&&Object.values(null===N||void 0===N?void 0:N[d]).length<1&&Object(g.jsx)(P.a,{variant:"warning",children:"No Cats found in our database."},Date.now()),E&&!(null===N||void 0===N||null===(i=N[d])||void 0===i?void 0:i.length)&&Object(g.jsx)(D,{message:"Loading list"})]})})]})})]})},B=a(6);t.default=function(e){var t=e.match;return Object(g.jsxs)(B.d,{children:[Object(g.jsx)(B.b,{exact:!0,path:t.path,component:k}),Object(g.jsx)(B.b,{exact:!0,path:"".concat(t.path,"/:breed"),component:k}),Object(g.jsx)(B.b,{exact:!0,path:"".concat(t.path,"/:breed/:id"),component:y}),Object(g.jsx)(B.a,{to:t.path})]})}},64:function(e,t,a){"use strict";var n=a(107),c=a(59),i=a(29),r=a(65),s=a.n(r),o=a(2);t.a=function(e){var t=e.imgSrc,a=e.title,r=e.btnLabel,l=e.text,d=e.link,u=e.size;return Object(o.jsx)(n.a,{style:{width:u},className:s.a.card,children:Object(o.jsxs)(i.b,{to:{pathname:null===d||void 0===d?void 0:d.to,state:{prevPath:null===d||void 0===d?void 0:d.prevPath}},style:{textDecoration:"none"},children:[Object(o.jsx)("div",{className:s.a.imageWrapper,children:Object(o.jsx)("img",{src:t,alt:"pet"})}),Object(o.jsxs)(n.a.Body,{children:[a&&Object(o.jsx)(n.a.Title,{children:a}),l&&Object(o.jsx)(n.a.Text,{children:l}),r&&Object(o.jsx)(c.a,{variant:"secondary",children:r})]})]})})}},65:function(e,t,a){e.exports={imageWrapper:"card_imageWrapper__3l7co",card:"card_card__qX785"}},76:function(e,t,a){e.exports={catList:"cat_catList__Bcu6q",wrapper:"cat_wrapper__2vhvZ",paddedFlex:"cat_paddedFlex__2TL6n",contentArea:"cat_contentArea__1KpGn",singeCat:"cat_singeCat__2KzAB",selectArea:"cat_selectArea__1wN36",detailSection:"cat_detailSection__3iMmI",subTitle:"cat_subTitle__1BQ3s",title:"cat_title__1ZBW5"}}}]);
//# sourceMappingURL=4.bd23f552.chunk.js.map
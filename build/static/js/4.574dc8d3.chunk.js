(this.webpackJsonppetlover=this.webpackJsonppetlover||[]).push([[4],{103:function(e,t,a){"use strict";a.r(t);var c=a(28),n=a(70),r=a.n(n),o=a(72),i=a(73),s=a.n(i),l={catApiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"8fc894be-1ff1-46c4-b9c3-2334d7b6c3b5"}).API_KEY},d=s.a.create({baseURL:"https://api.thecatapi.com/".concat("v1"),headers:{"x-api-key":l.catApiKey}}),u=a(5),p=a(0),j=a(99),b=a(17),v=a(2),O=function(e){var t,a,n=e.match.params,i=n.id,s=n.breed,l=e.location.state.prevPath,O=Object(p.useMemo)((function(){return{id:"",url:""}}),[]),h=Object(p.useState)(O),x=Object(c.a)(h,2),f=x[0],_=x[1],m=Object(b.c)((function(e){return e.catsReducer})),y=Object(b.b)();return Object(p.useEffect)((function(){var e,t;console.log(l),(null===(e=m[s])||void 0===e?void 0:e[i])&&_(m[s][i]),(null===(t=m[s])||void 0===t?void 0:t[i])||y(function(e,t){return function(){var a=Object(o.a)(r.a.mark((function a(c){var n,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:u.c.LOADING_START,payload:!1}),a.prev=1,a.next=4,d.get("/images/".concat(e));case 4:return n=a.sent,o=n.data,a.abrupt("return",(c({type:u.a.GET_CAT,payload:{id:t,data:o}}),c({type:u.c.LOADING_STOP,payload:!1})));case 9:a.prev=9,a.t0=a.catch(1),c({type:u.c.LOADING_STOP,payload:!1}),c({type:u.c.ERROR,payload:{show:!0,message:"Apologies, the cat is not home! Miau!"}});case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}(i,s))}),[y,s,m,i,l]),console.log(e.location),Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)("img",{src:null===f||void 0===f?void 0:f.url,height:"50%",width:"50%",alt:"Cat"}),null===f||void 0===f||null===(t=f.breeds)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.name,Object(v.jsx)(j.a,{variant:"secondary",onClick:function(){return e.history.push("".concat(l))},children:"Go Back"})]})},h=a(58),x=a(102),f=a(93),_=a.n(f),m=function(e){var t=e.options,a=e.onChange,c=e.selected,n=Object(p.useCallback)((function(e){return e.map((function(e){return Object(v.jsx)("option",{value:e.id,children:e.name},e.id)}))}),[]);return Object(v.jsxs)(x.a.Select,{"aria-label":"Default select example",className:_.a.dropDown,value:c,onChange:a,children:[Object(v.jsx)("option",{value:"",disabled:!0,children:"Select Breed"}),n(t)]})},y=a(100),g=a(94),A=a.n(g),w=function(){return Object(v.jsxs)("div",{className:A.a.spinnerWrapper,children:[Object(v.jsx)(y.a,{animation:"grow",variant:"secondary"}),Object(v.jsx)(y.a,{animation:"grow",variant:"secondary"}),Object(v.jsx)(y.a,{animation:"grow",variant:"secondary"}),Object(v.jsx)(y.a,{animation:"grow",variant:"secondary"}),Object(v.jsx)(y.a,{animation:"grow",variant:"secondary"}),Object(v.jsx)(y.a,{animation:"grow",role:"status",children:Object(v.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})},T=a(24),S=a(96),E=a(69),R=a(95),N=a.n(R),C=function(e){var t,a=Object(p.useState)(""),n=Object(c.a)(a,2),i=n[0],s=n[1],l=Object(b.c)((function(e){return e.breedsReducer.catsBreed})),O=Object(b.c)((function(e){return e.catsReducer})),x=Object(b.c)((function(e){return e.globalReducer.loadingState})),f=Object(b.b)(),_=e.match,y=e.history,g=_.params.breed,A=Object(p.useCallback)((function(e){return Object.values(e).map((function(e){return Object(v.jsx)(h.a,{imgSrc:null===e||void 0===e?void 0:e.url,size:"23%",btnLabel:"Have a closer look",link:{to:"".concat(T.a.Cats,"/").concat(i,"/").concat(null===e||void 0===e?void 0:e.id),prevPath:"".concat(T.a.Cats,"/").concat(i)}},null===e||void 0===e?void 0:e.id)}))}),[i]),R=Object(p.useMemo)((function(){return null!==l&&void 0!==l?l:[]}),[l]);return Object(p.useEffect)((function(){l.length||f(function(){var e=Object(o.a)(r.a.mark((function e(t){var a,c,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:u.c.LOADING_START,payload:!1}),e.prev=1,e.next=4,d.get("/breeds");case 4:return a=e.sent,c=a.data,n=c.map((function(e){return{id:e.id,name:e.name}})),e.abrupt("return",(t({type:u.a.GET_CAT_BREED_LIST,payload:n}),t({type:u.c.LOADING_STOP,payload:!1})));case 10:e.prev=10,e.t0=e.catch(1),t({type:u.c.LOADING_STOP,payload:!1}),t({type:u.c.ERROR,payload:{show:!0,message:"Apologies, the cats are busy at the moment! Miau!"}});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}),[f,l]),Object(p.useEffect)((function(){var e;i&&((null===O||void 0===O?void 0:O[i])||f((e={id:i},function(){var t=Object(o.a)(r.a.mark((function t(a){var c,n,o,i,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:u.c.LOADING_START,payload:!1}),c=e.id,n=e.page,o=e.limit,t.prev=2,t.next=5,d.get("/images/search?page=".concat(null!==n&&void 0!==n?n:1,"&limit=").concat(null!==o&&void 0!==o?o:10,"&breed_id=").concat(c));case 5:return i=t.sent,s=i.data,t.abrupt("return",(a({type:u.a.GET_CAT_BREED,payload:{id:c,data:s}}),a({type:u.c.LOADING_STOP,payload:!1})));case 10:t.prev=10,t.t0=t.catch(2),a({type:u.c.LOADING_STOP,payload:!1}),a({type:u.c.ERROR,payload:{show:!0,message:"Apologies but we could not load new cats for you at this time! Miau!"}});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}())))}),[f,i,O]),Object(p.useEffect)((function(){s(g)}),[g]),Object(v.jsxs)("div",{className:N.a.catList,children:[Object(v.jsx)(S.a,{children:Object(v.jsx)("span",{className:N.a.title,children:"Cat Browser"})}),Object(v.jsx)("div",{className:N.a.wrapper,children:Object(v.jsxs)(S.a,{children:[Object(v.jsx)(E.a,{lg:3,children:Object(v.jsxs)("div",{className:"".concat(N.a.paddedFlex," ").concat(N.a.selectArea),children:[Object(v.jsx)(m,{options:R,onChange:function(e){var t=e.target.value;s(t),y.push("".concat(T.a.Cats,"/").concat(t))},selected:i}),Object(v.jsx)(j.a,{variant:"secondary",onClick:function(){return y.push("".concat(T.a.Home))},children:"Go Back"})]})}),Object(v.jsx)(E.a,{lg:9,children:Object(v.jsxs)("div",{className:"".concat(N.a.paddedFlex," ").concat(N.a.listArea),children:[(null===O||void 0===O?void 0:O[i])&&Object.values(null===O||void 0===O?void 0:O[i]).length&&A(O[i]),x&&!(null===O||void 0===O||null===(t=O[i])||void 0===t?void 0:t.length)&&Object(v.jsx)(w,{})]})})]})})]})},D=a(4);t.default=function(e){var t=e.match;return Object(v.jsxs)(D.d,{children:[Object(v.jsx)(D.b,{exact:!0,path:t.path,component:C}),Object(v.jsx)(D.b,{exact:!0,path:"".concat(t.path,"/:breed"),component:C}),Object(v.jsx)(D.b,{exact:!0,path:"".concat(t.path,"/:breed/:id"),component:O}),Object(v.jsx)(D.a,{to:t.path})]})}},58:function(e,t,a){"use strict";var c=a(98),n=a(99),r=a(29),o=a(59),i=a.n(o),s=a(2);t.a=function(e){var t=e.imgSrc,a=e.title,o=e.btnLabel,l=e.text,d=e.link,u=e.size;return Object(s.jsx)(c.a,{style:{width:u},className:i.a.card,children:Object(s.jsxs)(r.b,{to:{pathname:null===d||void 0===d?void 0:d.to,state:{prevPath:null===d||void 0===d?void 0:d.prevPath}},style:{textDecoration:"none"},children:[Object(s.jsx)("div",{className:i.a.imageWrapper,children:Object(s.jsx)("img",{src:t,alt:"pet"})}),Object(s.jsxs)(c.a.Body,{children:[a&&Object(s.jsx)(c.a.Title,{children:a}),l&&Object(s.jsx)(c.a.Text,{children:l}),o&&Object(s.jsx)(n.a,{variant:"secondary",children:o})]})]})})}},59:function(e,t,a){e.exports={imageWrapper:"card_imageWrapper__3l7co",card:"card_card__qX785"}},93:function(e,t,a){e.exports={dropDown:"dropdown_dropDown__QaYkS"}},94:function(e,t,a){e.exports={spinnerWrapper:"spinner_spinnerWrapper__39s_q"}},95:function(e,t,a){e.exports={catList:"cat_catList__Bcu6q",wrapper:"cat_wrapper__2vhvZ",paddedFlex:"cat_paddedFlex__2TL6n",listArea:"cat_listArea__zKPO8",selectArea:"cat_selectArea__1wN36",title:"cat_title__1ZBW5"}}}]);
//# sourceMappingURL=4.574dc8d3.chunk.js.map
(this.webpackJsonppetlover=this.webpackJsonppetlover||[]).push([[4],{103:function(e,t,a){e.exports={dropDown:"dropdown_dropDown__QaYkS"}},104:function(e,t,a){e.exports={spinnerComponentWrapper:"spinner_spinnerComponentWrapper__1Nc_8",spinnerWrapper:"spinner_spinnerWrapper__39s_q"}},112:function(e,t,a){"use strict";a.r(t);var n,c=a(17),i=a(66),r=a.n(i),o=a(1),d=a(67),l=a(82),s=a.n(l),u={catApiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"8fc894be-1ff1-46c4-b9c3-2334d7b6c3b5"}).API_KEY},p=s.a.create({baseURL:"https://api.thecatapi.com/".concat("v1"),headers:{"x-api-key":u.catApiKey}}),j=a(4);!function(e){e[e.DEFAULT_LIMIT=10]="DEFAULT_LIMIT",e[e.DEFAULT_PAGE_NO=1]="DEFAULT_PAGE_NO"}(n||(n={}));var v=function(e){return function(){var t=Object(d.a)(r.a.mark((function t(a){var n,c,i,d,l,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:j.d.LOADING_START,payload:!1}),n=e.id,c=e.page,i=e.limit,d={params:{breed_id:n,page:null!==c&&void 0!==c?c:1,limit:null!==i&&void 0!==i?i:10,order:"ASC"}},t.prev=3,t.next=6,p.get("/images/search",d);case 6:return l=t.sent,(s=l.data).length<d.params.limit&&a({type:j.a.BREED_LIST_FINAL,payload:Object(o.a)(Object(o.a)({},d.params),{},{final:!0,count:s.length})}),t.abrupt("return",(a({type:j.b.GET_CAT_BREED,payload:{breed:n,data:s}}),a({type:j.d.LOADING_STOP,payload:!1}),a({type:j.a.BREED_LIST_INCREMENT,payload:Object(o.a)(Object(o.a)({},d.params),{},{count:s.length})})));case 12:t.prev=12,t.t0=t.catch(3),a({type:j.d.LOADING_STOP,payload:!1}),a({type:j.d.ERROR,payload:{show:!0,message:"Apologies but we could not load new cats for you at this time! Miau!"}});case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()},b=a(0),O=a(102),h=a(77),m=a(59),x=a(19),_=a(6),f=a(76),g=a.n(f),y=a(21),T=a(2),A=function(e){var t,a,n,i,o,l,s,u,v,f,A,N,E=Object(b.useMemo)((function(){return{id:"",url:""}}),[]),S=Object(b.useState)(E),L=Object(c.a)(S,2),w=L[0],C=L[1],D=Object(x.c)((function(e){return e.catsReducer})),R=Object(x.b)(),I=Object(_.g)().state,P=e.history,k=e.match.params,B=Object(b.useMemo)((function(){var e;return null!==(e=null===I||void 0===I?void 0:I.prevPath)&&void 0!==e?e:"".concat(y.a.Cats,"/").concat(k.breed)}),[null===I||void 0===I?void 0:I.prevPath,k.breed]);return Object(b.useEffect)((function(){var e,t,a,n;(null===(e=D[null===k||void 0===k?void 0:k.breed])||void 0===e?void 0:e[null===k||void 0===k?void 0:k.id])&&C(D[null===k||void 0===k?void 0:k.breed][null===k||void 0===k?void 0:k.id]),(null===(t=D[null===k||void 0===k?void 0:k.breed])||void 0===t?void 0:t[null===k||void 0===k?void 0:k.id])||R((a=null===k||void 0===k?void 0:k.id,n=null===k||void 0===k?void 0:k.breed,function(){var e=Object(d.a)(r.a.mark((function e(t){var c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:j.d.LOADING_START,payload:!1}),e.prev=1,e.next=4,p.get("/images/".concat(a));case 4:return c=e.sent,i=c.data,e.abrupt("return",(t({type:j.b.GET_CAT,payload:{breed:n,data:i}}),t({type:j.d.LOADING_STOP,payload:!1})));case 9:e.prev=9,e.t0=e.catch(1),t({type:j.d.LOADING_STOP,payload:!1}),t({type:j.d.ERROR,payload:{show:!0,message:"Apologies, the cat is not home! Miau!"}});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[R,null===k||void 0===k?void 0:k.breed,D,null===k||void 0===k?void 0:k.id]),Object(T.jsxs)("div",{className:g.a.catList,children:[Object(T.jsx)(O.a,{children:Object(T.jsx)("span",{"data-testid":"pageHeading",className:g.a.title,children:null!==(t=null===w||void 0===w||null===(a=w.breeds)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.name)&&void 0!==t?t:"The Cat"})}),Object(T.jsx)("div",{className:g.a.wrapper,children:Object(T.jsxs)(O.a,{children:[Object(T.jsx)(h.a,{lg:3,children:Object(T.jsxs)("div",{className:"".concat(g.a.paddedFlex," ").concat(g.a.selectArea),children:[Object(T.jsxs)("div",{className:g.a.detailSection,children:[Object(T.jsx)(O.a,{children:Object(T.jsxs)(h.a,{children:[Object(T.jsx)("span",{className:g.a.subTitle,children:"Origin: "}),Object(T.jsx)("p",{children:null===w||void 0===w||null===(i=w.breeds)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.origin})]})}),Object(T.jsx)(O.a,{children:Object(T.jsxs)(h.a,{children:[Object(T.jsx)("span",{className:g.a.subTitle,children:"Temparament: "}),Object(T.jsx)("p",{children:null===w||void 0===w||null===(l=w.breeds)||void 0===l||null===(s=l[0])||void 0===s?void 0:s.temperament})]})}),Object(T.jsx)(O.a,{children:Object(T.jsxs)(h.a,{children:[Object(T.jsx)("span",{className:g.a.subTitle,children:"Description:"}),Object(T.jsx)("p",{children:null===w||void 0===w||null===(u=w.breeds)||void 0===u||null===(v=u[0])||void 0===v?void 0:v.description})]})})]}),Object(T.jsx)(m.a,{"data-testid":"returnHomeBtn",variant:"secondary",onClick:function(){return P.push(B)},children:"Back to list"})]})}),Object(T.jsx)(h.a,{lg:9,children:Object(T.jsx)("div",{"data-testid":"listSection",className:"".concat(g.a.paddedFlex," \n                            ").concat(g.a.contentArea),children:Object(T.jsx)("img",{className:g.a.singeCat,src:null!==(f=null===w||void 0===w?void 0:w.url)&&void 0!==f?f:"",alt:"".concat(null===w||void 0===w||null===(A=w.breeds)||void 0===A||null===(N=A[0])||void 0===N?void 0:N.name," cat")})})})]})})]})},N=a(64),E=a(111),S=a(103),L=a.n(S),w=function(e){var t=e.options,a=e.onChange,n=e.selected,c=Object(b.useCallback)((function(e){return e.map((function(e,t){return Object(T.jsx)("option",{value:e.id,children:e.name},e.id+t)}))}),[]);return Object(T.jsxs)(E.a.Select,{"aria-label":"Default select example",className:L.a.dropDown,value:n,onChange:a,children:[Object(T.jsx)("option",{value:"",disabled:!0,children:"Select Breed"}),c(t)]})},C=a(108),D=a(104),R=a.n(D),I=function(e){e.message;return Object(T.jsx)("div",{className:R.a.spinnerComponentWrapper,children:Object(T.jsxs)("div",{className:R.a.spinnerWrapper,children:[Object(T.jsx)(C.a,{animation:"grow",variant:"secondary"}),Object(T.jsx)(C.a,{animation:"grow",variant:"secondary"}),Object(T.jsx)(C.a,{animation:"grow",variant:"secondary"}),Object(T.jsx)(C.a,{animation:"grow",variant:"secondary"}),Object(T.jsx)(C.a,{animation:"grow",variant:"secondary"}),Object(T.jsx)(C.a,{animation:"grow",role:"status",children:Object(T.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})})},P=a(13),k=a(110),B=function(e){var t,a,i,o=Object(b.useState)(""),l=Object(c.a)(o,2),s=l[0],u=l[1],_=Object(b.useState)(10),f=Object(c.a)(_,1)[0],A=Object(x.c)((function(e){return e.breedsReducer[P.a.CATS]})),E=Object(x.c)((function(e){return e.catsReducer})),S=Object(x.c)((function(e){return e.globalReducer.loadingState})),L=Object(x.b)(),C=e.history,D=e.match.params.breed,R=Object(b.useMemo)((function(){var e,t,a=E[s]?Object.values(E[s]).length:0;return(null===A||void 0===A||null===(e=A[D])||void 0===e?void 0:e.page)>4||a>=15||(null===A||void 0===A||null===(t=A[D])||void 0===t?void 0:t.final)}),[A,D,E,s]),B=Object(b.useMemo)((function(){var e,t;return null!==(e=null===A||void 0===A||null===(t=A[D])||void 0===t?void 0:t.page)&&void 0!==e?e:1}),[A,D]),G=Object(b.useMemo)((function(){return null!==A&&void 0!==A?A:[]}),[A]),F=Object(b.useCallback)((function(e){return Object.values(e).map((function(e){return Object(T.jsx)(N.a,{imgSrc:null===e||void 0===e?void 0:e.url,size:"23%",btnLabel:"Have a closer look",link:{to:"".concat(y.a.Cats,"/").concat(s,"/").concat(null===e||void 0===e?void 0:e.id),prevPath:"".concat(y.a.Cats,"/").concat(s)}},null===e||void 0===e?void 0:e.id)}))}),[s]);return Object(b.useEffect)((function(){Object.values(A).length||L(function(){var e=Object(d.a)(r.a.mark((function e(t){var a,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:j.d.LOADING_START,payload:!1}),e.prev=1,e.next=4,p.get("/breeds");case 4:return a=e.sent,c=a.data,i=c.map((function(e){return{id:e.id,name:e.name,page:n.DEFAULT_PAGE_NO,limit:n.DEFAULT_LIMIT,final:!1,count:0}})),e.abrupt("return",(t({type:j.b.GET_CAT_BREED_LIST,payload:i}),t({type:j.d.LOADING_STOP,payload:!1})));case 10:e.prev=10,e.t0=e.catch(1),t({type:j.d.LOADING_STOP,payload:!1}),t({type:j.d.ERROR,payload:{show:!0,message:"Apologies, the cats are busy at the moment! Miau!"}});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}),[L,A]),Object(b.useEffect)((function(){s&&((null===E||void 0===E?void 0:E[s])||L(v({id:s,limit:f,page:B})))}),[L,s,E,f,B]),Object(b.useEffect)((function(){u(D)}),[D]),Object(T.jsxs)("div",{className:g.a.catList,children:[Object(T.jsx)(O.a,{children:Object(T.jsx)("span",{"data-testid":"pageHeading",className:g.a.title,children:"Cat Browser"})}),Object(T.jsx)("div",{className:g.a.wrapper,children:Object(T.jsxs)(O.a,{children:[Object(T.jsx)(h.a,{lg:3,children:Object(T.jsxs)("div",{className:"".concat(g.a.paddedFlex," ").concat(g.a.selectArea),children:[Object(T.jsxs)("div",{children:[Object(T.jsx)(w,{"data-testid":"breedDropdown",options:Object.values(G),onChange:function(e){var t=e.target.value;u(t),C.push("".concat(y.a.Cats,"/").concat(t))},selected:s}),!R&&D&&Object(T.jsxs)(m.a,{"data-testid":"breedMoreBtn",variant:"secondary",onClick:function(){return L(v({id:s,page:B}))},children:["Load more ",null!==(t="".concat(null===(a=A[D])||void 0===a?void 0:a.name," breed"))&&void 0!==t?t:"cats"]})]}),Object(T.jsx)(m.a,{"data-testid":"returnHomeBtn",variant:"secondary",onClick:function(){return C.push("".concat(y.a.Home))},children:"Back to Home"})]})}),Object(T.jsx)(h.a,{lg:9,children:Object(T.jsxs)("div",{"data-testid":"listSection",className:"".concat(g.a.paddedFlex," \n                            ").concat(g.a.contentArea),children:[(null===E||void 0===E?void 0:E[s])&&Object.values(null===E||void 0===E?void 0:E[s]).length>0&&F(E[s]),(null===E||void 0===E?void 0:E[s])&&Object.values(null===E||void 0===E?void 0:E[s]).length<1&&Object(T.jsx)(k.a,{variant:"warning",children:"No Cats found in our database."},Date.now()),S&&!(null===E||void 0===E||null===(i=E[s])||void 0===i?void 0:i.length)&&Object(T.jsx)(I,{message:"Loading list"})]})})]})})]})};t.default=function(e){var t=e.match;return Object(T.jsxs)(_.d,{children:[Object(T.jsx)(_.b,{exact:!0,path:t.path,component:B}),Object(T.jsx)(_.b,{exact:!0,path:"".concat(t.path,"/:breed"),component:B}),Object(T.jsx)(_.b,{exact:!0,path:"".concat(t.path,"/:breed/:id"),component:A}),Object(T.jsx)(_.a,{to:t.path})]})}},64:function(e,t,a){"use strict";var n=a(107),c=a(59),i=a(28),r=a(65),o=a.n(r),d=a(2);t.a=function(e){var t=e.imgSrc,a=e.title,r=e.btnLabel,l=e.text,s=e.link,u=e.size;return Object(d.jsx)(n.a,{style:{width:u},className:o.a.card,children:Object(d.jsxs)(i.b,{to:{pathname:null===s||void 0===s?void 0:s.to,state:{prevPath:null===s||void 0===s?void 0:s.prevPath}},style:{textDecoration:"none"},children:[Object(d.jsx)("div",{className:o.a.imageWrapper,children:Object(d.jsx)("img",{src:t,alt:"pet"})}),Object(d.jsxs)(n.a.Body,{children:[a&&Object(d.jsx)(n.a.Title,{children:a}),l&&Object(d.jsx)(n.a.Text,{children:l}),r&&Object(d.jsx)(c.a,{variant:"secondary",children:r})]})]})})}},65:function(e,t,a){e.exports={imageWrapper:"card_imageWrapper__3l7co",card:"card_card__qX785"}},76:function(e,t,a){e.exports={catList:"cat_catList__Bcu6q",wrapper:"cat_wrapper__2vhvZ",paddedFlex:"cat_paddedFlex__2TL6n",contentArea:"cat_contentArea__1KpGn",singeCat:"cat_singeCat__2KzAB",selectArea:"cat_selectArea__1wN36",detailSection:"cat_detailSection__3iMmI",subTitle:"cat_subTitle__1BQ3s",title:"cat_title__1ZBW5"}}}]);
//# sourceMappingURL=4.11f6d0da.chunk.js.map